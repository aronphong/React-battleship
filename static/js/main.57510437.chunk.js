(this["webpackJsonpreact-battleship"]=this["webpackJsonpreact-battleship"]||[]).push([[0],[,function(t,e,a){t.exports={BoardCell:"BoardCell_BoardCell__1Ji5-",hit:"BoardCell_hit__3ssIn",miss:"BoardCell_miss__zuzml",pc:"BoardCell_pc__29EaG"}},,,,,function(t,e,a){t.exports={Game:"Game_Game__2qp9N",Messages:"Game_Messages__3LwEn",sunk:"Game_sunk__1CqFP"}},function(t,e,a){t.exports={App:"App_App__16ZpL",Head:"App_Head__3lodK"}},,,,function(t,e,a){t.exports={Content:"Layout_Content__PrDi6"}},function(t,e,a){t.exports={BoardCells:"BoardCells_BoardCells__1bGQo"}},function(t,e,a){t.exports=a(19)},,,,,function(t,e,a){},function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(10),i=a.n(o),s=(a(18),a(2)),l=a(3),c=a(4),u=a(5),m=a(11),h=a.n(m),p=function(t){return n.a.createElement("main",{className:h.a.Content},t.children)},f=a(8),d=a(6),y=a.n(d),S=a(1),v=a.n(S),k=function(t){var e=[v.a.BoardCell];return!0===t.computerPlayer&&e.push(v.a.pc),"X"===t.content&&e.push(v.a.hit),"M"===t.content&&e.push(v.a.miss),n.a.createElement("div",{className:e.join(" "),onClick:function(){return t.clicked(t.index)}},t.content)},b=a(12),g=a.n(b),_=function(t){return n.a.createElement("div",{className:g.a.BoardCells},t.cells.map((function(e,a){return n.a.createElement(k,{computerPlayer:t.computerPlayer,content:e,index:a,key:a,clicked:t.attackPosition})})))},B=function(t,e){var a=t,r=function(){return{direction:0===Math.round(Math.random())?"row":"column",row:Math.floor(10*Math.random()),startIndex:Math.floor(100*Math.random())}},n=function(t,e,a){var r=t.direction,n=t.startIndex;if("row"===r){if(n%10>e)return!1;for(var o=0;o<e;o++)if(""!==a[n+o])return!1}else{if(10*e+n>99)return!1;for(var i=0;i<10*e;i+=10)if(""!==a[n+i])return!1}return!0};return e.map((function(t){for(var e=r(),o=t.length,i=n(e,o,a);!1===i;)e=r(),i=n(e,o,a);if(!0===i&&"row"===e.direction)for(var s=0;s<o;s++)a[e.startIndex+s]=t.shipSymbol;if(!0===i&&"column"===e.direction)for(var l=0;l<10*o;l+=10)a[e.startIndex+l]=t.shipSymbol})),a},C=[{name:"Carrier",length:5,shipSymbol:"C"},{name:"Battleship",length:4,shipSymbol:"B"},{name:"Destroyer",length:3,shipSymbol:"D"},{name:"Submarine",length:3,shipSymbol:"S"},{name:"Patrol",length:2,shipSymbol:"P"}],E=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={cells:Array(100).fill(""),whosTurn:t.props.humanTurn,attackHistory:[],ships:[{name:"Carrier",life:5,shipSymbol:"C",isSunk:!1},{name:"Battleship",life:4,shipSymbol:"B",isSunk:!1},{name:"Destroyer",life:3,shipSymbol:"D",isSunk:!1},{name:"Submarine",life:3,shipSymbol:"S",isSunk:!1},{name:"Patrol Boat",life:2,shipSymbol:"P",isSunk:!1}]},t.shipsPlacement=function(){if(!1!==t.props.gameStart){var e=Object(f.a)(t.state.cells);if(!1!==e.every((function(t){return""===t}))){var a=B(e,C);t.setState({cells:a})}}},t.resetBoard=function(){t.setState({cells:Array(100).fill("")})},t.handleComputerAttack=function(){var e=t.state.attackHistory.slice().reverse(),a=!1,r=e.map((function(t){return t[0]}));if("medium"===t.props.difficulty){for(var n=0;n<4;n++)try{if("X"===e[n][1]&&!1===e[n][2]){a=e[n][0];break}}catch(h){continue}if(a){for(var o=["left","up","right","down"],i=o.length-1;i>0;i--){var s=Math.floor(Math.random()*(i+1)),l=[o[s],o[i]];o[i]=l[0],o[s]=l[1]}for(var c=a,u=0;r.includes(c);)c=a,"left"===o[u]?c-=1:"up"===o[u]?c-=10:"right"===o[u]?c+=1:"down"===o[u]?c+=10:c=Math.floor(100*Math.random()),(c<0||c>99)&&(c=Math.floor(100*Math.random())),u++;return c}}for(var m=Math.floor(100*Math.random());r.includes(m);)m=Math.floor(100*Math.random());return m},t.handleAttackPosition=function(e){if(!1!==t.props.computerBoard||!0!==t.props.humanTurn){var a=Object(f.a)(t.state.cells);if(!0!==a.every((function(t){return""===t}))){var r=a[e];if(""===r&&(a[e]="M"),"X"!==r&&"M"!==r){var n=t.state.ships.slice(),o=!1;n.map((function(t){return t.shipSymbol===r&&(t.life--,0===t.life&&(t.isSunk=!0,o=!0),a[e]="X"),t})),t.handleAttackHistory(e,a[e],o),t.props.turnSwitch(),t.setState({cells:a,ships:n})}}}},t.handleAttackHistory=function(e,a,r){var n=t.state.attackHistory.slice();n.push([e,a,r]),t.setState({attackHistory:n})},t}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(t){if(this.props.gameStart!==t.gameStart&&(!0===this.props.gameStart?this.shipsPlacement():this.resetBoard()),this.props.humanTurn!==t.humanTurn&&!1===this.props.humanTurn&&!1===this.props.computerBoard){var e=this.handleComputerAttack();this.handleAttackPosition(e)}}},{key:"render",value:function(){var t=this.props.computerBoard?n.a.createElement("h1",null,"Computer Board"):n.a.createElement("h1",null,"Your Board"),e=null;return this.props.gameStart&&(e=this.state.ships.slice().map((function(t){return n.a.createElement("li",{key:t.name,className:t.isSunk?y.a.sunk:null},t.name)}))),n.a.createElement("div",{className:y.a.Game},n.a.createElement("div",{className:y.a.Messages},t,n.a.createElement("ul",null,e)),n.a.createElement(_,{cells:this.state.cells,computerPlayer:this.props.computerBoard,attackPosition:this.handleAttackPosition}))}}]),a}(r.Component),M=a(7),w=a.n(M),P=function(t){Object(u.a)(a,t);var e=Object(c.a)(a);function a(){var t;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={gameStart:!1,humanTurn:!0,computerDifficulty:"easy"},t.handleGameTurn=function(){t.setState({humanTurn:!t.state.humanTurn})},t.handleGameStart=function(){t.setState({gameStart:!t.state.gameStart})},t.handleComputerDifficulty=function(){if(!0!==t.state.gameStart){var e="easy"===t.state.computerDifficulty?"medium":"easy";t.setState({computerDifficulty:e})}},t}return Object(l.a)(a,[{key:"render",value:function(){var t=this.state.gameStart?"Reset Board":"Start Game";return n.a.createElement("div",{className:w.a.App},n.a.createElement("div",{className:w.a.Head},n.a.createElement("button",{onClick:this.handleGameStart},t),n.a.createElement("h1",null,"Battleship"),n.a.createElement("button",{onClick:this.handleComputerDifficulty},"Difficulty: ",this.state.computerDifficulty)),n.a.createElement(p,null,n.a.createElement(E,{gameStart:this.state.gameStart,computerBoard:!0,humanTurn:this.state.humanTurn,turnSwitch:this.handleGameTurn}),n.a.createElement(E,{gameStart:this.state.gameStart,computerBoard:!1,humanTurn:this.state.humanTurn,turnSwitch:this.handleGameTurn,difficulty:this.state.computerDifficulty})))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.57510437.chunk.js.map